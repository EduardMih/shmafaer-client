<div class="reset-password-container bg-dark text-white">
    <h2>Enter new password</h2>
    <div *ngIf="wasAttempted">
      <div>
        <div *ngIf="isSuccessful" class="alert alert-success">{{message}}</div>
      </div>
      <div>
        <div *ngIf="!isSuccessful" class="alert alert-danger">{{message}}</div>
      </div>
    </div>
    <form *ngIf="!isSuccessful" [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()">

      <mat-form-field appearance="outline">
        <mat-label>Password</mat-label>
        <input
          matInput
          formControlName="password"
          type="text"
          id="password"
          placeholder="Password"
        />
      </mat-form-field>
      <div *ngIf="(password?.invalid) && (password?.touched || password?.dirty)"
           class="alert alert-danger"
      >
        <div *ngIf="(password?.errors?.['required']) && (password?.dirty ||password?.touched)"
             class="myPassReq"
        >
          Password is required.
        </div>
        <div *ngIf="(password?.errors?.['hasCapital']) && (password?.dirty ||password?.touched)"
             class="myPassReq"
        >
          Password must contain at least one capital case.
        </div>
        <div *ngIf="(password?.errors?.['hasSmall']) && (password?.dirty ||password?.touched)"
             class="myPassReq"
        >
          Password must contain at least one small case.
        </div>
        <div *ngIf="(password?.errors?.['hasSpecial']) && (password?.dirty ||password?.touched)"
             class="myPassReq"
        >
          Password must contain at least one special character.
        </div>
        <div *ngIf="(password?.errors?.['minlength']) && (password?.dirty ||password?.touched)"
             class="myPassReq"
        >
          Password must have at least 5 characters.
        </div>

        <div *ngIf="(password?.errors?.['hasNumber']) && (password?.dirty ||password?.touched)"
             class="myPassReq"
        >
          Password must have at least one number!
        </div>
      </div>

      <mat-form-field appearance="outline">
        <mat-label>Confirm Password</mat-label>
        <input
          matInput
          formControlName="confirmPassword"
          type="text"
          id="confirm-pass"
          placeholder="Confirm Password"
        />
      </mat-form-field>

      <div *ngIf="(resetPasswordForm.errors?.['notSamePasswords']) && (resetPasswordForm.touched || resetPasswordForm.dirty)"
           class="cross-validation-error-message alert alert-danger">
        Passwords don't match!
      </div>

      <button [disabled]="!resetPasswordForm.valid" type="submit" mat-raised-button color="accent">Reset Password</button>

    </form>
  </div>
